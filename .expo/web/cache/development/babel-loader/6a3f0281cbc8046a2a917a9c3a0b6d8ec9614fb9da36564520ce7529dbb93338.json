{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { launchCameraAsync, useCameraPermissions, PermissionStatus } from \"expo-image-picker\";\nimport { useState } from \"react\";\nimport { Colors } from \"../../constants/colors\";\nimport OutlinedButton from \"../UI/OutlinedButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction ImagePicker() {\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    pickedImage = _useState2[0],\n    setPickedImage = _useState2[1];\n  var _useCameraPermissions = useCameraPermissions(),\n    _useCameraPermissions2 = _slicedToArray(_useCameraPermissions, 2),\n    cameraPermissionInformation = _useCameraPermissions2[0],\n    requestPermission = _useCameraPermissions2[1];\n  function verifyPermissions() {\n    return _verifyPermissions.apply(this, arguments);\n  }\n  function _verifyPermissions() {\n    _verifyPermissions = _asyncToGenerator(function* () {\n      if (cameraPermissionInformation.status === PermissionStatus.UNDETERMINED) {\n        var permissionResponse = yield requestPermission();\n        return permissionResponse.granted;\n      }\n      if (cameraPermissionInformation === PermissionStatus.DENIED) {\n        Alert.alert(\"Insufficient Permissions\", \"You need to grant camera permissions to use this app.\");\n        return false;\n      }\n      return true;\n    });\n    return _verifyPermissions.apply(this, arguments);\n  }\n  function takeImageHandler() {\n    return _takeImageHandler.apply(this, arguments);\n  }\n  function _takeImageHandler() {\n    _takeImageHandler = _asyncToGenerator(function* () {\n      var hasPermission = yield verifyPermissions();\n      if (!hasPermission) {\n        return;\n      }\n      var image = yield launchCameraAsync({\n        allowsEditing: true,\n        aspectRatio: [16, 9],\n        quality: 0.5\n      });\n      console.log(image);\n      setPickedImage(image.uri);\n    });\n    return _takeImageHandler.apply(this, arguments);\n  }\n  var imagePreview = _jsx(Text, {\n    children: \"No Image Taken Yet.\"\n  });\n  if (pickedImage) {\n    imagePreview = _jsx(Image, {\n      source: {\n        uri: pickedImage\n      },\n      style: styles.image\n    });\n  }\n  return _jsxs(View, {\n    children: [_jsx(View, {\n      style: styles.imagePreview,\n      children: imagePreview\n    }), _jsx(OutlinedButton, {\n      icon: \"camera\",\n      onPress: takeImageHandler,\n      children: \"Take Image\"\n    })]\n  });\n}\nexport default ImagePicker;\nvar styles = StyleSheet.create({\n  imagePreview: {\n    width: \"100%\",\n    height: 200,\n    marginVertical: 8,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: Colors.primary100,\n    borderRadius: 4\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n});","map":{"version":3,"names":["launchCameraAsync","useCameraPermissions","PermissionStatus","useState","Colors","OutlinedButton","jsx","_jsx","jsxs","_jsxs","ImagePicker","_useState","_useState2","_slicedToArray","pickedImage","setPickedImage","_useCameraPermissions","_useCameraPermissions2","cameraPermissionInformation","requestPermission","verifyPermissions","_verifyPermissions","apply","arguments","_asyncToGenerator","status","UNDETERMINED","permissionResponse","granted","DENIED","Alert","alert","takeImageHandler","_takeImageHandler","hasPermission","image","allowsEditing","aspectRatio","quality","console","log","uri","imagePreview","Text","children","Image","source","style","styles","View","icon","onPress","StyleSheet","create","width","height","marginVertical","justifyContent","alignItems","backgroundColor","primary100","borderRadius"],"sources":["/Users/dijgtal/Desktop/UDEMY/react native course/section 12/react_native_my_places/components/Places/ImagePicker.js"],"sourcesContent":["import { Alert, Button, Image, StyleSheet, Text, View } from \"react-native\";\nimport {\n  launchCameraAsync,\n  useCameraPermissions,\n  PermissionStatus,\n} from \"expo-image-picker\";\nimport { useState } from \"react\";\nimport { Colors } from \"../../constants/colors\";\nimport OutlinedButton from \"../UI/OutlinedButton\";\n\nfunction ImagePicker() {\n  const [pickedImage, setPickedImage] = useState();\n  const [cameraPermissionInformation, requestPermission] =\n    useCameraPermissions();\n\n  async function verifyPermissions() {\n    if (cameraPermissionInformation.status === PermissionStatus.UNDETERMINED) {\n      const permissionResponse = await requestPermission();\n      return permissionResponse.granted;\n    }\n\n    if (cameraPermissionInformation === PermissionStatus.DENIED) {\n      Alert.alert(\n        \"Insufficient Permissions\",\n        \"You need to grant camera permissions to use this app.\"\n      );\n\n      return false;\n    }\n\n    return true;\n  }\n\n  async function takeImageHandler() {\n    const hasPermission = await verifyPermissions();\n\n    if (!hasPermission) {\n      return;\n    }\n    const image = await launchCameraAsync({\n      allowsEditing: true,\n      aspectRatio: [16, 9],\n      quality: 0.5,\n    });\n    console.log(image);\n    setPickedImage(image.uri);\n  }\n\n  let imagePreview = <Text>No Image Taken Yet.</Text>;\n  if (pickedImage) {\n    imagePreview = <Image source={{ uri: pickedImage }} style={styles.image} />;\n  }\n  return (\n    <View>\n      <View style={styles.imagePreview}>{imagePreview}</View>\n      {/* <Button title=\"Take Image\" onPress={takeImageHandler} /> */}\n      <OutlinedButton icon=\"camera\" onPress={takeImageHandler}>\n        Take Image\n      </OutlinedButton>\n    </View>\n  );\n}\n\nexport default ImagePicker;\n\nconst styles = StyleSheet.create({\n  imagePreview: {\n    width: \"100%\",\n    height: 200,\n    marginVertical: 8,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: Colors.primary100,\n    borderRadius: 4,\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}